{"ast":null,"code":"//fetch current & fetch forecast functions\nimport axios from 'axios';\nconst WEATHER_KEY = process.env.GOOGLE_WEATHER_API_KEY;\nconst GEOCODE_KEY = process.env.GOOGLE_GEOCODING_API_KEY;\nconst WEATHER_BASE_URL = \"https://weather.googleapis.com/v1\";\nconst GEOCODE_BASE_URL = \"https://maps.googleapis.com/maps/api/geocode/json\";\n\n//Convert a city name to latitude and longitude coordinates using the Google Geocoding API\n//coordinate format is {lat, lon}\nexport function geocodeCity(city) {\n  return axios.get(GEOCODE_BASE_URL, {\n    params: {\n      address: city,\n      key: GEOCODE_KEY\n    }\n  }).then(res => {\n    const {\n      lat,\n      lng\n    } = res.data.results[0].geometry.location;\n    return {\n      lat,\n      lon: lng\n    };\n  });\n}\n\n//Get current conditions for the given coordinates\n//We can use metric or imperial system\nexport function fetchCurrentByCoords(coords, unitsSystem = 'METRIC') {\n  return axios.get('${WEATHER_BASE_URL}/currentConditions:lookup', {\n    params: {\n      key: WEATHER_KEY,\n      'location.latitude': coords.lat,\n      'location.longitude': coords.lon,\n      unitsSystem\n    }\n  }).then(res => res.data);\n}\n\n//Get up to 'days' (param) days of faily forecasts\n//max 10 days, optional pagination\nexport function fetchDailyForecastByCoords(coords, days = 5, pageSize = days) {\n  return axios.get('${WEATHER_BASE_URL}/forecast/days:lookup', {\n    params: {\n      key: WEATHER_KEY,\n      'location.latitude': coords.lat,\n      'location.longitude': coords.lon,\n      days,\n      pageSize\n    }\n  }).then(res => res.data);\n}\n\n//Get up to 'hours' (param) hours of hourly forecasts\n//max 24 hours, optional pagination\nexport function fetchHourlyForecastByCoords(coords, hours = 24, pageSize = hours) {\n  return axios.get('${WEATHER_BASE_URL}/forecast/hours:lookup', {\n    params: {\n      key: WEATHER_KEY,\n      'location.latitude': coords.lat,\n      'location.longitude': coords.lon,\n      hours,\n      pageSize\n    }\n  }).then(res => res.data);\n}","map":{"version":3,"names":["axios","WEATHER_KEY","process","env","GOOGLE_WEATHER_API_KEY","GEOCODE_KEY","GOOGLE_GEOCODING_API_KEY","WEATHER_BASE_URL","GEOCODE_BASE_URL","geocodeCity","city","get","params","address","key","then","res","lat","lng","data","results","geometry","location","lon","fetchCurrentByCoords","coords","unitsSystem","fetchDailyForecastByCoords","days","pageSize","fetchHourlyForecastByCoords","hours"],"sources":["/Users/dfashemo/seoTechDev/weatherApp/src/api/weather.js"],"sourcesContent":["//fetch current & fetch forecast functions\nimport axios from 'axios';\n\nconst WEATHER_KEY = process.env.GOOGLE_WEATHER_API_KEY;\nconst GEOCODE_KEY = process.env.GOOGLE_GEOCODING_API_KEY;\nconst WEATHER_BASE_URL = \"https://weather.googleapis.com/v1\";\nconst GEOCODE_BASE_URL = \"https://maps.googleapis.com/maps/api/geocode/json\";\n\n\n//Convert a city name to latitude and longitude coordinates using the Google Geocoding API\n//coordinate format is {lat, lon}\nexport function geocodeCity(city) {\n    return axios.get(GEOCODE_BASE_URL, {\n        params: {\n            address: city,\n            key: GEOCODE_KEY,\n        },\n    })\n    .then(res => { const {lat, lng} = res.data.results[0].geometry.location;\n        return { lat, lon: lng };\n});\n}\n\n//Get current conditions for the given coordinates\n//We can use metric or imperial system\nexport function fetchCurrentByCoords(coords, unitsSystem = 'METRIC') {\n    return axios.get('${WEATHER_BASE_URL}/currentConditions:lookup', {\n        params: {\n            key: WEATHER_KEY,\n            'location.latitude': coords.lat,\n            'location.longitude': coords.lon,\n            unitsSystem,\n        },\n    })\n    .then(res => res.data);\n}\n\n//Get up to 'days' (param) days of faily forecasts\n//max 10 days, optional pagination\nexport function fetchDailyForecastByCoords(coords, days = 5, pageSize = days) {\n    return axios.get('${WEATHER_BASE_URL}/forecast/days:lookup', {\n        params: {\n            key: WEATHER_KEY,\n            'location.latitude': coords.lat,\n            'location.longitude': coords.lon,\n            days,\n            pageSize,\n        },\n    })\n    .then(res => res.data);\n}\n\n//Get up to 'hours' (param) hours of hourly forecasts\n//max 24 hours, optional pagination\nexport function fetchHourlyForecastByCoords(coords, hours = 24, pageSize = hours) {\n    return axios.get('${WEATHER_BASE_URL}/forecast/hours:lookup', {\n        params: {\n            key: WEATHER_KEY,\n            'location.latitude': coords.lat,\n            'location.longitude': coords.lon,\n            hours,\n            pageSize,\n        },\n    })\n    .then(res => res.data);\n}\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AACtD,MAAMC,WAAW,GAAGH,OAAO,CAACC,GAAG,CAACG,wBAAwB;AACxD,MAAMC,gBAAgB,GAAG,mCAAmC;AAC5D,MAAMC,gBAAgB,GAAG,mDAAmD;;AAG5E;AACA;AACA,OAAO,SAASC,WAAWA,CAACC,IAAI,EAAE;EAC9B,OAAOV,KAAK,CAACW,GAAG,CAACH,gBAAgB,EAAE;IAC/BI,MAAM,EAAE;MACJC,OAAO,EAAEH,IAAI;MACbI,GAAG,EAAET;IACT;EACJ,CAAC,CAAC,CACDU,IAAI,CAACC,GAAG,IAAI;IAAE,MAAM;MAACC,GAAG;MAAEC;IAAG,CAAC,GAAGF,GAAG,CAACG,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACC,QAAQ;IACnE,OAAO;MAAEL,GAAG;MAAEM,GAAG,EAAEL;IAAI,CAAC;EAChC,CAAC,CAAC;AACF;;AAEA;AACA;AACA,OAAO,SAASM,oBAAoBA,CAACC,MAAM,EAAEC,WAAW,GAAG,QAAQ,EAAE;EACjE,OAAO1B,KAAK,CAACW,GAAG,CAAC,8CAA8C,EAAE;IAC7DC,MAAM,EAAE;MACJE,GAAG,EAAEb,WAAW;MAChB,mBAAmB,EAAEwB,MAAM,CAACR,GAAG;MAC/B,oBAAoB,EAAEQ,MAAM,CAACF,GAAG;MAChCG;IACJ;EACJ,CAAC,CAAC,CACDX,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACG,IAAI,CAAC;AAC1B;;AAEA;AACA;AACA,OAAO,SAASQ,0BAA0BA,CAACF,MAAM,EAAEG,IAAI,GAAG,CAAC,EAAEC,QAAQ,GAAGD,IAAI,EAAE;EAC1E,OAAO5B,KAAK,CAACW,GAAG,CAAC,0CAA0C,EAAE;IACzDC,MAAM,EAAE;MACJE,GAAG,EAAEb,WAAW;MAChB,mBAAmB,EAAEwB,MAAM,CAACR,GAAG;MAC/B,oBAAoB,EAAEQ,MAAM,CAACF,GAAG;MAChCK,IAAI;MACJC;IACJ;EACJ,CAAC,CAAC,CACDd,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACG,IAAI,CAAC;AAC1B;;AAEA;AACA;AACA,OAAO,SAASW,2BAA2BA,CAACL,MAAM,EAAEM,KAAK,GAAG,EAAE,EAAEF,QAAQ,GAAGE,KAAK,EAAE;EAC9E,OAAO/B,KAAK,CAACW,GAAG,CAAC,2CAA2C,EAAE;IAC1DC,MAAM,EAAE;MACJE,GAAG,EAAEb,WAAW;MAChB,mBAAmB,EAAEwB,MAAM,CAACR,GAAG;MAC/B,oBAAoB,EAAEQ,MAAM,CAACF,GAAG;MAChCQ,KAAK;MACLF;IACJ;EACJ,CAAC,CAAC,CACDd,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACG,IAAI,CAAC;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}