{"ast":null,"code":"//fetch current & fetch forecast functions\nimport axios from 'axios';\nconst WEATHER_KEY = process.env.REACT_APP_GOOGLE_WEATHER_API_KEY;\nconst GEOCODE_KEY = process.env.REACT_APP_GOOGLE_GEOCODING_API_KEY;\nconst WEATHER_BASE_URL = \"https://weather.googleapis.com/v1\";\nconst GEOCODE_BASE_URL = \"https://maps.googleapis.com/maps/api/geocode/json\";\n\n//Convert a city name to latitude and longitude coordinates using the Google Geocoding API\n//coordinate format is {lat, lon}\nexport async function geocodeCity(city) {\n  const {\n    data\n  } = await axios.get(GEOCODE_BASE_URL, {\n    params: {\n      address: city,\n      key: GEOCODE_KEY\n    }\n  });\n\n  // 1) API‐level error\n  if (data.status !== 'OK') {\n    throw new Error(data.error_message || `Geocoding failed with status \"${data.status}\".`);\n  }\n\n  // 2) No results at all\n  if (!data.results || data.results.length === 0) {\n    throw new Error(`No location found for “${city}”.`);\n  }\n\n  // 3) Safe to pull the first result\n  const {\n    lat,\n    lng\n  } = data.results[0].geometry.location;\n  return {\n    lat,\n    lon: lng\n  };\n}\n\n//Get current conditions for the given coordinates\n//We can use metric or imperial system\nexport function fetchCurrentByCoords(coords, unitsSystem = 'IMPERIAL') {\n  return axios.get(`${WEATHER_BASE_URL}/currentConditions:lookup`, {\n    params: {\n      key: WEATHER_KEY,\n      'location.latitude': coords.lat,\n      'location.longitude': coords.lon,\n      unitsSystem\n    }\n  }).then(res => res.data);\n}\n\n//Get up to 'days' (param) days of faily forecasts\n//max 10 days, optional pagination\nexport function fetchDailyForecastByCoords(coords, days = 5, pageSize = days, unitsSystem = 'IMPERIAL') {\n  return axios.get(`${WEATHER_BASE_URL}/forecast/days:lookup`, {\n    params: {\n      key: WEATHER_KEY,\n      'location.latitude': coords.lat,\n      'location.longitude': coords.lon,\n      days,\n      pageSize,\n      unitsSystem\n    }\n  }).then(res => res.data);\n}\n\n//Get up to 'hours' (param) hours of hourly forecasts\n//max 24 hours, optional pagination\nexport function fetchHourlyForecastByCoords(coords, hours = 24, pageSize = hours) {\n  return axios.get(`${WEATHER_BASE_URL}/forecast/hours:lookup`, {\n    params: {\n      key: WEATHER_KEY,\n      'location.latitude': coords.lat,\n      'location.longitude': coords.lon,\n      hours,\n      pageSize,\n      unitsSystem\n    }\n  }).then(res => res.data);\n}\n/*\nexport function geocodeCity(city) {\n    return axios.get(GEOCODE_BASE_URL, {\n        params: {\n            address: city,\n            key: GEOCODE_KEY,\n        },\n    })\n    .then(res => { const {lat, lng} = res.data.results[0].geometry.location;\n        return { lat, lon: lng };\n});\n}*/","map":{"version":3,"names":["axios","WEATHER_KEY","process","env","REACT_APP_GOOGLE_WEATHER_API_KEY","GEOCODE_KEY","REACT_APP_GOOGLE_GEOCODING_API_KEY","WEATHER_BASE_URL","GEOCODE_BASE_URL","geocodeCity","city","data","get","params","address","key","status","Error","error_message","results","length","lat","lng","geometry","location","lon","fetchCurrentByCoords","coords","unitsSystem","then","res","fetchDailyForecastByCoords","days","pageSize","fetchHourlyForecastByCoords","hours"],"sources":["/Users/dfashemo/seoTechDev/weatherApp/src/api/weather.js"],"sourcesContent":["//fetch current & fetch forecast functions\nimport axios from 'axios';\n\nconst WEATHER_KEY = process.env.REACT_APP_GOOGLE_WEATHER_API_KEY;\nconst GEOCODE_KEY = process.env.REACT_APP_GOOGLE_GEOCODING_API_KEY;\nconst WEATHER_BASE_URL = \"https://weather.googleapis.com/v1\";\nconst GEOCODE_BASE_URL = \"https://maps.googleapis.com/maps/api/geocode/json\";\n\n\n//Convert a city name to latitude and longitude coordinates using the Google Geocoding API\n//coordinate format is {lat, lon}\nexport async function geocodeCity(city) {\n  const { data } = await axios.get(GEOCODE_BASE_URL, {\n    params: { address: city, key: GEOCODE_KEY },\n  });\n\n  // 1) API‐level error\n  if (data.status !== 'OK') {\n    throw new Error(\n      data.error_message ||\n      `Geocoding failed with status \"${data.status}\".`\n    );\n  }\n\n  // 2) No results at all\n  if (!data.results || data.results.length === 0) {\n    throw new Error(`No location found for “${city}”.`);\n  }\n\n  // 3) Safe to pull the first result\n  const { lat, lng } = data.results[0].geometry.location;\n  return { lat, lon: lng };\n}\n\n//Get current conditions for the given coordinates\n//We can use metric or imperial system\nexport function fetchCurrentByCoords(coords, unitsSystem = 'IMPERIAL') {\n    return axios.get(`${WEATHER_BASE_URL}/currentConditions:lookup`, {\n        params: {\n            key: WEATHER_KEY,\n            'location.latitude': coords.lat,\n            'location.longitude': coords.lon,\n            unitsSystem,\n        },\n    })\n    .then(res => res.data);\n}\n\n//Get up to 'days' (param) days of faily forecasts\n//max 10 days, optional pagination\nexport function fetchDailyForecastByCoords(coords, days = 5, pageSize = days, unitsSystem = 'IMPERIAL') {\n    return axios.get(`${WEATHER_BASE_URL}/forecast/days:lookup`, {\n        params: {\n            key: WEATHER_KEY,\n            'location.latitude': coords.lat,\n            'location.longitude': coords.lon,\n            days,\n            pageSize,\n            unitsSystem,\n            \n        },\n    })\n    .then(res => res.data);\n}\n\n//Get up to 'hours' (param) hours of hourly forecasts\n//max 24 hours, optional pagination\nexport function fetchHourlyForecastByCoords(coords, hours = 24, pageSize = hours) {\n    return axios.get(`${WEATHER_BASE_URL}/forecast/hours:lookup`, {\n        params: {\n            key: WEATHER_KEY,\n            'location.latitude': coords.lat,\n            'location.longitude': coords.lon,\n            hours,\n            pageSize,\n            unitsSystem,\n        },\n    })\n    .then(res => res.data);\n}\n/*\nexport function geocodeCity(city) {\n    return axios.get(GEOCODE_BASE_URL, {\n        params: {\n            address: city,\n            key: GEOCODE_KEY,\n        },\n    })\n    .then(res => { const {lat, lng} = res.data.results[0].geometry.location;\n        return { lat, lon: lng };\n});\n}*/"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,gCAAgC;AAChE,MAAMC,WAAW,GAAGH,OAAO,CAACC,GAAG,CAACG,kCAAkC;AAClE,MAAMC,gBAAgB,GAAG,mCAAmC;AAC5D,MAAMC,gBAAgB,GAAG,mDAAmD;;AAG5E;AACA;AACA,OAAO,eAAeC,WAAWA,CAACC,IAAI,EAAE;EACtC,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,GAAG,CAACJ,gBAAgB,EAAE;IACjDK,MAAM,EAAE;MAAEC,OAAO,EAAEJ,IAAI;MAAEK,GAAG,EAAEV;IAAY;EAC5C,CAAC,CAAC;;EAEF;EACA,IAAIM,IAAI,CAACK,MAAM,KAAK,IAAI,EAAE;IACxB,MAAM,IAAIC,KAAK,CACbN,IAAI,CAACO,aAAa,IAClB,iCAAiCP,IAAI,CAACK,MAAM,IAC9C,CAAC;EACH;;EAEA;EACA,IAAI,CAACL,IAAI,CAACQ,OAAO,IAAIR,IAAI,CAACQ,OAAO,CAACC,MAAM,KAAK,CAAC,EAAE;IAC9C,MAAM,IAAIH,KAAK,CAAC,0BAA0BP,IAAI,IAAI,CAAC;EACrD;;EAEA;EACA,MAAM;IAAEW,GAAG;IAAEC;EAAI,CAAC,GAAGX,IAAI,CAACQ,OAAO,CAAC,CAAC,CAAC,CAACI,QAAQ,CAACC,QAAQ;EACtD,OAAO;IAAEH,GAAG;IAAEI,GAAG,EAAEH;EAAI,CAAC;AAC1B;;AAEA;AACA;AACA,OAAO,SAASI,oBAAoBA,CAACC,MAAM,EAAEC,WAAW,GAAG,UAAU,EAAE;EACnE,OAAO5B,KAAK,CAACY,GAAG,CAAC,GAAGL,gBAAgB,2BAA2B,EAAE;IAC7DM,MAAM,EAAE;MACJE,GAAG,EAAEd,WAAW;MAChB,mBAAmB,EAAE0B,MAAM,CAACN,GAAG;MAC/B,oBAAoB,EAAEM,MAAM,CAACF,GAAG;MAChCG;IACJ;EACJ,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACnB,IAAI,CAAC;AAC1B;;AAEA;AACA;AACA,OAAO,SAASoB,0BAA0BA,CAACJ,MAAM,EAAEK,IAAI,GAAG,CAAC,EAAEC,QAAQ,GAAGD,IAAI,EAAEJ,WAAW,GAAG,UAAU,EAAE;EACpG,OAAO5B,KAAK,CAACY,GAAG,CAAC,GAAGL,gBAAgB,uBAAuB,EAAE;IACzDM,MAAM,EAAE;MACJE,GAAG,EAAEd,WAAW;MAChB,mBAAmB,EAAE0B,MAAM,CAACN,GAAG;MAC/B,oBAAoB,EAAEM,MAAM,CAACF,GAAG;MAChCO,IAAI;MACJC,QAAQ;MACRL;IAEJ;EACJ,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACnB,IAAI,CAAC;AAC1B;;AAEA;AACA;AACA,OAAO,SAASuB,2BAA2BA,CAACP,MAAM,EAAEQ,KAAK,GAAG,EAAE,EAAEF,QAAQ,GAAGE,KAAK,EAAE;EAC9E,OAAOnC,KAAK,CAACY,GAAG,CAAC,GAAGL,gBAAgB,wBAAwB,EAAE;IAC1DM,MAAM,EAAE;MACJE,GAAG,EAAEd,WAAW;MAChB,mBAAmB,EAAE0B,MAAM,CAACN,GAAG;MAC/B,oBAAoB,EAAEM,MAAM,CAACF,GAAG;MAChCU,KAAK;MACLF,QAAQ;MACRL;IACJ;EACJ,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACnB,IAAI,CAAC;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}